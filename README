This directory contains Uni, the central part of the UniForM workbench
(that is, minus the repository manager).  The source of Uni is in the
following directories:


   directory    |  contents
   
   mk           |  Makefile magic which set up default rules and variables
   bin          |  Shell scripts which might be needed for building Uni
   util         |  Miscellanous Haskell functions used all over Uni
   concurrency  |  Concurrency functions
   reactor      |  The Reactor, for gluing processes together
   htk          |  This is an encapsulation of Tcl/Tk in Haskell
                   See htk/examples for a few short introductory examples.
   graphs       |  General framework for shared graphs.
   davinci      |  This is an encapsulation of DaVinci in Haskell
   www          |  Functions for manipulating HTML in Haskell
   tools        |  Encapsulations of some tools in Haskell.

   database     |  Data for various Uni components

It is intended to make the remainder of UniForM available later on.
However the repository manager is currently in a very unsatisfactory
state and needs a great deal more work before this can be done.  However
we hope this fragment will be of interest to show what the guts of a
real Haskell program look like.

Requirements
------------

The following are required or at least recommended. 
(1) A Unix box (probably it has to be Linux/x86 or Solaris).  Nearly
    all development has been done on Solaris so that is most likely to
    work.
(2) gcc.  Ideally what I use -- gcc version 2.95.2.
    Do not use 2.8* versions since they are known not to work at all with 
    Glasgow Haskell.  Version 2.71 might work but I suspect Glasgow Haskell 
    will not support it for much longer.
(3) gmake.  Again, use the latest one - 3.77.  But I think slightly earlier
    ones may well work.
(4) A recent version of Glasgow Haskell.  You should try to get the
    latest binary release, which is currently 4.08.1.

Of course you also need the sources to Uni!  They should be with this
README file, but in case they are not, or in case you want to update
your copies, here are details.  The Uni sources are kept in a 
publicly accessible CVS repository at cvs-agbkb.informatik.uni-bremen.de.  
For general details about this repository, see
   http://www.informatik.uni-bremen.de/~ger/cvs/CVS.html
So for example to get a complete set of the latest version of the sources you 
type (in bash or sh)

export CVSROOT=:pserver:cvsread@cvs-agbkb.informatik.uni-bremen.de:/repository
cvs login
# when cvs login asks for a password, type "cvsread"   
cvs checkout uni

This will create a directory uni in your current directory containing
the latest sources for uni.  

Type "man cvs" to find out other CVS commands.

What To Ask Before Compiling
----------------------------

1) Do you want a debugging version of Uni?  By default you won't
   get it.  To compile a debugging version, 
      cd uni/mk
      cp local.mk.debug local.mk
   The file local.mk is included, if present, by every Makefile.
   Thus it's also a good thing to use for other Makefile hacking.
2) Do you want to use the Tk-encapsulation (in directory "htk")?  
   Then you will need to a copy of Wish, which should be provided as 
   part of your X-system.  It needs to be in your PATH when you
   run the ./configure step (see the next section).  If, when you
   type "wish", a square blank window pops up with the title "wish"
   then you should be alright.
3) Do you want to draw graphs using Uni's daVinci encapsulation
   (in directory "davinci")?  Then you need DaVinci.  You can get 
   this from:
      http://www.informatik.uni-bremen.de/daVinci/
   Once you have it, put it in your PATH, with the name "daVinci",
   for the ./configure step.
4) Do you want to use our versioning system (in "cvs" and "versions")?
   Then you need cvs, probably version 10.7 or thereabouts.
   Again, put it in your PATH for the configure step.

Compiling
---------

Once you've done all that, the following commands are supposed to do
it, assuming that you are in the same directory as this README file
(that is, at the top of the Uni distribution).
   
# Configure the Makefiles
./configure
# Work out what order to do compilation in
gmake depend
# Compile Uni
gmake all
# Compile test programs
gmake testprgs

Please report problems to me.  I am George Russell and my e-mail
address is ger@tzi.de .

Good luck!


