#!/usr/local/bin/bash
# mustmake T D1 D2 ... DN 
# (N>=0) 
# returns True (exit 0) if T does not exist, or else
# if there is some Di which was last modified later than T.
# Otherwise returns False (exit 4).  This command is intended to
# be used with gmake-3.77 and other versions of gmake which sometimes
# remakes targets unnecessarily by assuming that an intermediate target
# has been changed when in fact it hasn't.
TARGET=$1
if [ -e $1 ]
then
   if [ $# > 1 ]
   then
      shift 1
      DEPENDENCIES=$*
      for DEP in $DEPENDENCIES
      do
         if [ $DEP -nt $TARGET ]
         then
            # dependency is newer than target
            exit 0
         fi
      done
   fi
   exit 4
else
# target doesn't exist
   exit 0 
fi