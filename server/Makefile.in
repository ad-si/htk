PACKAGE = uni-server

ifeq "@OSTITLE@" "linux"
CRYPTPACKAGES = crypt-linux
else
CRYPTPACKAGES = 
endif

PACKAGES = uni-reactor uni-posixutil uni-htk \
   $(CRYPTPACKAGES) $(if @HAXML@,uni-HaXml) 


SRCS       = HostsPorts.hs ServiceClass.hs Server.hs Testserver.hs \
   EchoService.hs CallServer.hs Notification.hs MultiServer.hs \
   Crypt.hs PasswordFile.hs MultiPlexer.hs LogFile.hs Hosts.hs \
   HostsList.hs GroupFile.hs

EXTRAEXPORTS = Hosts.xml

displayextrasrcs :
	@echo @TOP@/server/Hosts.xml

include @TOP@/mk/boilerplate.mk


Hosts.hs : Hosts.dtd
	@TOP@/HaXml/tools/DtdToHaskell $< $@
