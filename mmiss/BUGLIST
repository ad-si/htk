Bug and to-do list for MMiSS Workbench
--------------------------------------

Xml standard == "Extensible Markup Language (XML) 1.0 (Second Edition)"
(available from W3C).

14) 02.09.02
Intermittently VersionGraph does not start up properly.

03.09.02
After a lengthy investigation it turns out that the reason is that
after ChildProcess.newChildProcess does Posix.forkProcess, we now have
various worker threads doing things like communicating with the server
in both the child and parent process, until the child process manages to
exexve the new process.  This bug has been around ever since Einar's day
at least, but has only emerged now (and partially in item 11) because
I would guess of either the increased complexity (and number of worker threads)
of MMiSSWorkbench, or changes in ghc5.04's scheduler.

This has necessitated a complete rewrite of ChildProcess.newChildProcess's
mechanism for starting a new process, converting it from Haskell into C.
But it's worth it, and the problem seems to be 
FIXED

13) 28.08.02
DTD needs to be modified to allow includes everywhere where atoms and other
insertable items can appear.

Solution agreed 02.09.02.
FIXED

12) 28.08.02
   The button inside dtd/mmiss-paragraph.1.xml is getting inserted into
   the Emacs buffer with the wrong name.  From w.debug:
XEmacs>(MMiSS-init)
XEmacs>(uni-add-container-buffer "Npara1")
XEmacs>(uni-add-button "Npara1" "Hpara1" "para1")
XEmacs>(uni-add-text "Npara1" "<paragraph label=\"para1\"\n  >")
XEmacs>(uni-add-button "Npara1" "Npara1" "para1")
XEmacs>(uni-add-text "Npara1" "</paragraph>")
XEmacs>(uni-bound-container "Npara1")
   so it is wrongly called Npara1, duplicating the name of the container.

11) 27.08.02
For some reason the workbench has started having trouble
starting daVinci.  If it still happens tomorrow maybe I'll have
to fix it . . 

Output is as follows:

Attempt to start daVinci from path "/home/ger/bin/daVinci" failed
Unexpected response was "Tk: can't re"

28.08.02.  It happened, and is hopefully now fixed.  After extensive
investigation, and help from Mattias, it seems that the Posix.executeFile
function called by ChildProcess and used to start daVinci somehow pangles
unevaluated environment and argument values.  Why this has only been noticed
now I don't know; perhaps something to do with the large size of the 
executable?  
FIXED but see item (14).

10) 27.08.02
Need to alter MMiSSContent/MMiSSObjects to handle both links and references.

9) 27.08.02
Error "Writing textFrag1: Expected an textFragment but found a textFrag1"
Clearly confusing names and xml tags.

Seems to be a bug in MMiSSObjects.simpleWriteToMMiSSObject.
FIXED I hope

8) 27.08.02
Sometimes it seems to hang and nothing is displayed.  w.debug ends
by adding the daVinci rules.  This can usually be "fixed" by trying
again later.  It may only happen when we restart immediately after
quitting.

See item (14).
FIXED

7) 27.08.02
Improved error handling for bad/non-existent. UNIMMISSDTD files.
FIXED

6) 27.08.02
Message "Fail: handleEvents: container NtextFrag1 does not exist"
when quitting after an edit.  Quit does not complete.
FIXED

5) 27.08.02
Choosing "Exit daVinci" from the View menu causes a rather untidy exit.

4) 27.08.02
MMiSSContents.structureContents changed to allow an error to be returned;
MMiSSObjects changed to handle it.
FIXED

3) 26.08.02.  
"Fail: Top-level in Xml does not have a label attribute" when importing
new object.
FIXED see (4).

2)
We assume object names match the NAME production, or that HaXml doesn't notice
if they don't, EG in MMiSSEditXml.hs.  (Compare with sections 3.3.1 and 2.3
of Xml standard).

1)
When editing and we enlarge an object, we always take the variant attributes
of the top object (being edited), not those of any sub-object.  
(7th August 2002)

